@model ViewModel_ShowData
@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <link rel="stylesheet" href="~/styles/bootstrap.min.css">
    <link rel="stylesheet" href="~/styles/style.css">
</head>

<body>

    <section class="container-fluid">
        <section class="row">
            <div class="col-12">
                <div class="modal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close">&times;</button>
                            </div>
                            <div id="bitcoin">

                                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                     width="200px" height="200px" viewBox="100 100 400 400" xml:space="preserve">
                                <filter id="dropshadow" height="130%">
                                <feGaussianBlur in="SourceAlpha" stdDeviation="5" />































































































































                                <feOffset dx="0" dy="0" result="offsetblur" />































































































































                                <feFlood flood-color="red" />































































































































<feComposite in2="offsetblur" operator="in" />































































































































<feMerge>
<feMergeNode />































































































































<feMergeNode in="SourceGraphic" />































































































































</feMerge>
</filter>          
<path class="path" style="filter:url(#dropshadow)" fill="#000000" d="M446.089,261.45c6.135-41.001-25.084-63.033-67.769-77.735l13.844-55.532l-33.801-8.424l-13.48,54.068
	c-8.896-2.217-18.015-4.304-27.091-6.371l13.568-54.429l-33.776-8.424l-13.861,55.521c-7.354-1.676-14.575-3.328-21.587-5.073
	l0.034-0.171l-46.617-11.64l-8.993,36.102c0,0,25.08,5.746,24.549,6.105c13.689,3.42,16.159,12.478,15.75,19.658L208.93,357.23
	c-1.675,4.158-5.925,10.401-15.494,8.031c0.338,0.485-24.579-6.134-24.579-6.134l-9.631,40.468l36.843,9.188
	c8.178,2.051,16.209,4.19,24.098,6.217l-13.978,56.17l33.764,8.424l13.852-55.571c9.235,2.499,18.186,4.813,26.948,6.995
	l-13.802,55.309l33.801,8.424l13.994-56.061c57.648,10.902,100.998,6.502,119.237-45.627c14.705-41.979-0.731-66.193-31.06-81.984
	C425.008,305.984,441.655,291.455,446.089,261.45z M368.859,369.754c-10.455,41.983-81.128,19.285-104.052,13.589l18.562-74.404
	C306.28,314.65,379.774,325.975,368.859,369.754z M379.302,260.846c-9.527,38.187-68.358,18.781-87.442,14.023l16.828-67.489
	C327.767,212.14,389.234,221.02,379.302,260.846z" />






























































































































 
</svg>
                            </div>
                            <div id="change">ftd Changes:<span id="change2">1</span></div>
                        </div>

                    </div>
                </div>
            </div>
        </section>
    </section>

    <section class="container-fluid">

        <section class="row">
            <!-- Left Section -->
            <section class="col-xl-4 col-lg-4 col-4 left">
                <!-- Logo -->
                <div class="logo-section">
                    <img src="" alt="">
                </div>

                <!-- Title -->
                <div class="title-section">
                    <h1 class="title">
                        Lets <br> Make <br> It <br> Happen
                    </h1>
                </div>

                <!-- Time Section -->
                <div class="time">
                    <div class="clock">

                    </div>

                    <div class="top">
                        <span id="time"></span>
                    </div>
                    <div class="bottom">
                        <span id="Today"></span>
                    </div>
                </div>

            </section>

            <!-- Right Section -->
            <section class="col-xl-8 col-lg-8 col-8 right">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-6 left-section">
                            <div class="left-section-content">
                                <header class="text-center">
                                    <h4>Today</h4>
                                </header>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-6 top-box">
                                            <div class="item">
                                                <div class="title">Leads</div>
                                                <div class="value" id="todayetype2">@Model.TodayType2</div>
                                            </div>
                                        </div>
                                        <div class="col-6 top-box">
                                            <div class="item">
                                                <div class="title">FTD</div>
                                                <div class="value" id="todayetype4">@Model.TodayType4</div>
                                            </div>
                                        </div>
                                        <div class="col-6 bottom-box">
                                            <div class="item">
                                                <div class="title">CR</div>
                                                <div class="value" id="TodayCR">@Model.TodayCR</div>
                                            </div>
                                        </div>
                                        <div class="col-6 bottom-box">
                                            <div class="item">
                                                <div class="title">Partner</div>
                                                <div class="value">7</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6 right-section">
                            <div class="right-section-content">
                                <header class="text-center">
                                    <h4>Last 7 Days</h4>
                                </header>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-6 top-box">
                                            <div class="item">
                                                <div class="title">Leads</div>
                                                <div class="value" id="weektype2">@Model.WeeklyType2</div>
                                            </div>
                                        </div>
                                        <div class="col-6 top-box">
                                            <div class="item">
                                                <div class="title">FTD</div>
                                                <div class="value" id="weektype4">@Model.WeeklyType4</div>
                                            </div>
                                        </div>
                                        <div class="col-6 bottom-box">
                                            <div class="item">
                                                <div class="title">CR</div>
                                                <div class="value" id="WeekCR">@Model.WeekCR</div>
                                            </div>
                                        </div>
                                        <div class="col-6 bottom-box">
                                            <div class="item">
                                                <div class="title">Partner</div>
                                                <div class="value">8</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 middle">
                            <div class="middle-content">
                                <div id="left">
                                    <h3 id="thisMonth"></h3>
                                </div>
                                <div id="center">
                                    <h5>Convertion</h5>
                                </div>
                                <div id="right">
                                    <h2>@Model.MonthCR</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 bottom">
                            <div class="bottom-section">
                                <div class="bottom-left-section">
                                    <div class="title">Leads</div>
                                    <div class="value" id="MonthType2">@Model.MonthType2</div>
                                </div>
                                <div class="bottom-right-section">
                                    <div class="title">FTD</div>
                                    <div class="value" id="MonthType4">@Model.MonthType4</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

        </section>

    </section>

    <script src="~/scripts/jquery.js"></script>
    <script src="scripts/popper.min.js"></script>
    <script src="scripts/bootstrap.min.js"></script>
    <script src="~/scripts/script.js"></script>
    <script>
        let lastStepOfTodayType2 =@Model.TodayType2;
        let lastStepOfTodayType4=@Model.TodayType4;
        $(document).ready(function () {
            startTime();
            getToday();
            getMonth();
            window.setInterval(function () { GetDataFromServer(); }, 60000);   // check last sale evry 5 seccond
        })
        function GetDataFromServer() {
            $.ajax({
                type: "Get",
                alowCache: false,
                url: "Home/ShowDataForView",
                success: function (response) {
                    console.log(response);
                    var jsonresult = JSON.parse(response);
                    var todaytype2 = jsonresult.TodayType2;
                    var todaytype4 = jsonresult.TodayType4;
                    var weektype2 = jsonresult.WeeklyType2;
                    var weektype4 = jsonresult.WeeklyType4;
                    var Monthtype2 = jsonresult.MonthType2;
                    var Monthtype4 = jsonresult.MonthType4;
                    var TodayCR = jsonresult.TodayCR;
                    var WeekCR = jsonresult.WeekCR;
                    $('#todayetype2').empty();
                    $('#todayetype2').append(todaytype2);
                    $('#todayetype4').empty();
                    $('#todayetype4').append(todaytype4);
                    $('#weektype2').empty();
                    $('#weektype2').append(weektype2);
                    $('#weektype4').empty();
                    $('#weektype4').append(weektype4);
                    $('#MonthType2').empty();
                    $('#MonthType2').append(Monthtype2);
                    $('#MonthType4').empty();
                    $('#MonthType4').append(Monthtype4);
                    $('#TodayCR').empty();
                    $('#TodayCR').append(TodayCR);
                    $('#WeekCR').empty();
                    $('#WeekCR').append(WeekCR);
                    CheckByLastStep(0, todaytype4);
                },
                error: function () {
                    console.log("Error");
                }
            });
        }
        function getToday() {
            const months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
            let current_datetime = new Date()
            let formatted_date = current_datetime.getDate() + "-" + months[current_datetime.getMonth()] + "-" + current_datetime.getFullYear()
            $('#Today').append(formatted_date);
        }
        function getMonth() {
            const months = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
            let current_datetime = new Date()
            let formatted_date = months[current_datetime.getMonth()] + "-" + current_datetime.getFullYear()
            $('#thisMonth').append(formatted_date);
        }
        function startTime() {
         var today = new Date();
         var h = today.getHours();
         var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('time').innerHTML =
             h + ":" + m + ":" + s;
            var t = setTimeout(startTime, 500);
}
        function checkTime(i) {
            if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
            return i;
            }
        function CheckByLastStep(todaytype2, todaytype4)
        {
            let flag = 0;
            //if (lastStepOfTodayType2 != todaytype2)
            //{
            //    $('#change1').empty();
            //    $('#change1').append(todaytype2 - lastStepOfTodayType2);
            //    flag = 1;
            //    lastStepOfTodayType2 = todaytype2;
            //}
            if (lastStepOfTodayType4 != todaytype4)
            {
                $('#change2').empty();
                $('#change2').append(todaytype4 - lastStepOfTodayType4);
                flag = 1;
                lastStepOfTodayType4 = todaytype4;
            }
            if (flag == 1) {
                 $(".modal").css({
                    "visibility": "visible",
                    "transform": "scale(1)",
                    "opacity": 1
                 });
                PlayAudio();
                window.setTimeout(function () {
                    $(".modal").css({
                        "visibility": "hidden",
                        "opacity": 0
                    })
                },3000);
            }
        }
    </script>
</body>

</html>